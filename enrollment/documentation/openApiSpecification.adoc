= Enrollment API Documentation

== Introduction

The Enrollment API provides services related to user enrollment processes. This API allows clients to nominate a primary user among other functionalities.

=== Authentication Requirements

Currently, this API does not require authentication for access. However, future versions might include OAuth2 or API key-based authentication mechanisms.

=== Base URL and Versioning

The base URL for the API is `https://api.example.com/v1`. All endpoints described below are relative to this base URL.

=== How to Use This Specification

This document is structured to provide a comprehensive overview of the API's capabilities, including detailed descriptions of each endpoint, request and response schemas, and example requests and responses. This specification can be imported into tools like Swagger UI, Postman, or Insomnia for further exploration and testing.

== OpenAPI 3.0 YAML Specification

[source,yaml]
----
openapi: 3.0.0
info:
  title: Enrollment API
  version: 1.0.0
  description: API for managing user enrollments.
servers:
  - url: https://api.example.com/v1
paths:
  /nominatePrimary:
    post:
      summary: Nominate a primary user
      operationId: nominatePrimary
      parameters:
        - name: username
          in: query
          required: true
          schema:
            type: string
          description: Username of the user to be nominated as primary.
      responses:
        '200':
          description: Successful nomination of primary user.
          content:
            text/plain:
              schema:
                type: string
                example: "User nominated as primary successfully."
        '400':
          description: Bad request if the username parameter is missing.
          content:
            text/plain:
              schema:
                type: string
                example: "Missing required parameter: username."
        '500':
          description: Internal server error.
          content:
            text/plain:
              schema:
                type: string
                example: "Internal server error."
components:
  schemas:
    UserResponseDTO:
      type: object
      properties:
        mobilityUserId:
          type: string
        username:
          type: string
        vin:
          type: string
    Enrollment:
      type: object
      properties:
        id:
          type: integer
          format: int64
        role:
          type: string
        username:
          type: string
        vin:
          type: string
----

== API Documentation

=== Endpoint: POST /nominatePrimary

==== Description

This endpoint nominates a user as the primary user based on the provided username.

==== Usage Example

Request:
[source,http]
----
POST /nominatePrimary?username=johndoe HTTP/1.1
Host: api.example.com
----

Response:
[source,http]
----
HTTP/1.1 200 OK
Content-Type: text/plain

User nominated as primary successfully.
----

==== Authentication Flows

No authentication is required to access this endpoint.

==== Common Error Codes

- `400 Bad Request`: This error occurs if the `username` parameter is missing.
- `500 Internal Server Error`: This error indicates an issue on the server side.

== Rate Limiting Information

There are no rate limits enforced by this API at the current stage. However, clients are encouraged to use the API responsibly to avoid potential throttling in the future.