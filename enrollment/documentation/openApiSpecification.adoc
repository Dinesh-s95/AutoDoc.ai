= API Documentation for Enrollment System

== Introduction

This document provides a comprehensive API specification for the Enrollment System, which is designed to manage user enrollments and nominations for primary roles within an organization.

=== Authentication Requirements

The API requires authentication for all endpoints. Clients must provide a valid API token in the `Authorization` header.

=== Base URL and Versioning

The base URL for all API endpoints is `https://api.example.com/v1`. This API is currently at version 1.

=== How to Use This Specification

This OpenAPI specification is designed to be used with tools that support the OpenAPI 3.0 format, such as Swagger UI, Postman, or Insomnia. Import this specification into any of these tools to interact with the API or generate client code.

== OpenAPI 3.0 YAML Specification

[source,yaml]
----
openapi: 3.0.0
info:
  title: Enrollment API
  description: API for managing user enrollments and nominations.
  version: 1.0.0
servers:
  - url: https://api.example.com/v1
paths:
  /nominatePrimary:
    post:
      summary: Nominate a primary user
      operationId: nominatePrimary
      tags:
        - Enrollment
      parameters:
        - name: username
          in: query
          required: true
          description: The username of the user to nominate as primary.
          schema:
            type: string
      responses:
        '200':
          description: Successful nomination
          content:
            text/plain:
              schema:
                type: string
                example: "User nominated as primary successfully."
        '400':
          description: Bad request if the username is missing or invalid
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '401':
          description: Unauthorized if the user is not authenticated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
components:
  schemas:
    Error:
      type: object
      properties:
        message:
          type: string
          example: "Invalid request parameters"
security:
  - ApiKeyAuth: []
securitySchemes:
  ApiKeyAuth:
    type: apiKey
    in: header
    name: Authorization
----

== API Documentation

=== Endpoint: POST /nominatePrimary

Nominate a user as the primary user for an account.

==== Usage Example

[source,shell]
----
curl -X POST "https://api.example.com/v1/nominatePrimary?username=johndoe" -H "Authorization: Bearer {api_token}"
----

==== Responses

- *200 OK*: Indicates that the user was successfully nominated.
- *400 Bad Request*: Returned if the username parameter is missing or invalid.
- *401 Unauthorized*: Returned if the user is not authenticated.

=== Authentication Flows

The API uses API keys for authentication. The client must include an API key in the `Authorization` header with each request.

=== Common Error Codes

- *400 Bad Request*: The request was invalid or missing parameters.
- *401 Unauthorized*: The request was made without authentication or with invalid credentials.
- *500 Internal Server Error*: An error occurred on the server.

=== Rate Limiting

The API enforces rate limiting to prevent abuse. Clients are limited to 100 requests per hour. Exceeding this limit results in a `429 Too Many Requests` response.