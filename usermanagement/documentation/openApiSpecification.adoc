= Introduction

This API provides endpoints for user management operations such as assigning vehicles to users and onboarding users. Authentication is required for certain endpoints using a token-based system. The base URL for this API is `https://api.example.com/v1`. To use this specification, import the YAML file into your API documentation tool or API client.

== OpenAPI 3.0 Specification

[source,yaml]
----
openapi: 3.0.0
info:
  title: User Management API
  description: API for managing users and their vehicles
  version: 1.0.0
servers:
  - url: https://api.example.com/v1
paths:
  /user/assignVehicle:
    post:
      summary: Assign a vehicle to a user
      parameters:
        - name: username
          in: query
          required: true
          schema:
            type: string
        - name: vin
          in: query
          required: true
          schema:
            type: string
        - name: brand
          in: query
          required: true
          schema:
            type: string
        - name: country
          in: query
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Successful assignment
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                  assignedVehicle:
                    type: object
                    properties:
                      vin:
                        type: string
                      brand:
                        type: string
                      country:
                        type: string
  /user/onboard:
    post:
      summary: Onboard a new user
      parameters:
        - name: username
          in: query
          required: true
          schema:
            type: string
        - name: password
          in: query
          required: true
          schema:
            type: string
      responses:
        '200':
          description: User onboarded successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                  user:
                    type: object
                    properties:
                      username:
                        type: string
                      role:
                        type: string
security:
  - tokenAuth: []
components:
  securitySchemes:
    tokenAuth:
      type: apiKey
      in: header
      name: Authorization
----

== API Documentation

=== /user/assignVehicle

Assign a vehicle to a user.

==== Request

[source,json]
----
{
  "username": "john_doe",
  "vin": "123456789",
  "brand": "Toyota",
  "country": "USA"
}
----

==== Response

[source,json]
----
{
  "message": "Vehicle assigned successfully",
  "assignedVehicle": {
    "vin": "123456789",
    "brand": "Toyota",
    "country": "USA"
  }
}
----

=== /user/onboard

Onboard a new user.

==== Request

[source,json]
----
{
  "username": "jane_smith",
  "password": "password123"
}
----

==== Response

[source,json]
----
{
  "message": "User onboarded successfully",
  "user": {
    "username": "jane_smith",
    "role": "user"
  }
}
----

=== Authentication

Authentication is required for all endpoints using a token-based system. Include the `Authorization` header with a valid token in the request.

=== Error Codes

- `400`: Bad Request - Invalid input parameters
- `401`: Unauthorized - Missing or invalid token
- `404`: Not Found - Resource not found

This API does not have rate limiting implemented.

This completes the OpenAPI Specification and API documentation for the User Management API.