= Introduction

This API provides endpoints for user authentication and registration. It requires JWT token-based authentication for most endpoints. The base URL for this API is `https://api.example.com/v1`. To use this specification, import the YAML file into your API documentation tool or API client.

== OpenAPI 3.0 Specification

[source,yaml]
----
openapi: 3.0.0
info:
  title: User Authentication API
  description: API for user authentication and registration
  version: 1.0.0
servers:
  - url: https://api.example.com/v1
paths:
  /login:
    post:
      summary: Login user
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AuthRequest'
      responses:
        '200':
          description: Successful login
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AuthResponse'
  /register:
    post:
      summary: Register a new user
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Users'
      responses:
        '200':
          description: User registration successful
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Users'
components:
  schemas:
    AuthRequest:
      type: object
      properties:
        username:
          type: string
        password:
          type: string
      required:
        - username
        - password
    AuthResponse:
      type: object
      properties:
        token:
          type: string
    Users:
      type: object
      properties:
        userId:
          type: integer
        username:
          type: string
        password:
          type: string
security:
  - JWTAuth: []
securitySchemes:
  JWTAuth:
    type: http
    scheme: bearer
----

== API Documentation

=== /login (POST)

Login a user by providing username and password.

[source,json]
----
{
  "username": "john_doe",
  "password": "password123"
}
----

Response:
- Status: 200 OK
[source,json]
----
{
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6ImpvaG5fZG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.3nR5tOv0y3b3Jv5j4I1m5g"
}

=== /register (POST)

Register a new user by providing username and password.

[source,json]
----
{
  "username": "jane_smith",
  "password": "securepassword456"
}
----

Response:
- Status: 200 OK
[source,json]
----
{
  "userId": 123,
  "username": "jane_smith"
}
----

== Authentication Flows

This API uses JWT token-based authentication. To access protected endpoints, include the JWT token in the `Authorization` header with the value `Bearer <token>`.

== Common Error Codes

- 401 Unauthorized: Invalid credentials or missing JWT token
- 403 Forbidden: Access to the resource is forbidden
- 404 Not Found: Resource not found

== Rate Limiting

This API does not have rate limiting implemented.

This completes the OpenAPI Specification and API documentation for the User Authentication API.