Here is the OpenAPI 3.0 specification in YAML format based on the provided Java Spring Boot application details:

```yaml
openapi: 3.0.0
info:
  title: Identity Provider API
  version: 1.0.0
  description: API for managing user authentication and registration
servers:
  - url: /idp
paths:
  /users/home:
    get:
      tags:
        - User Operations
      summary: Greet the user
      operationId: greetUser
      responses:
        '200':
          description: Greeting message returned
          content:
            text/plain:
              schema:
                type: string
                example: Hello, user!
  /users/register:
    post:
      tags:
        - User Operations
      summary: Register a new user
      operationId: registerUser
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Users'
      responses:
        '200':
          description: User registered successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Users'
        '400':
          description: Invalid input
  /users/login:
    post:
      tags:
        - User Operations
      summary: Login for existing user
      operationId: loginUser
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Users'
      responses:
        '200':
          description: Login successful
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AuthResponse'
        '401':
          description: Unauthorized
components:
  schemas:
    Users:
      type: object
      properties:
        userId:
          type: integer
          format: int64
          example: 1
        username:
          type: string
          example: user@example.com
        password:
          type: string
          example: pass1234
      required:
        - username
        - password
    AuthResponse:
      type: object
      properties:
        token:
          type: string
          example: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
security:
  - jwtAuth: []
components:
  securitySchemes:
    jwtAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
```

### Explanation:
- **Overview Section**: Provides basic information about the API including the title, version, and a brief description.
- **Paths**: Defined for each endpoint derived from the controller methods. Includes HTTP methods, request bodies, and responses.
- **Components**: Defines reusable schemas for request and response bodies. `Users` and `AuthResponse` are included as examples.
- **Security**: Includes a JWT-based security scheme for endpoints that require authentication.

This specification is ready to be imported into tools like Swagger Editor for validation, Postman for API testing, or any API Gateway that supports OpenAPI specifications. It is structured to be human-readable and logically grouped by user operations.