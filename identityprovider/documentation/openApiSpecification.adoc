Below is the OpenAPI 3.0 specification in YAML format for the given Spring Boot application, focusing on the `UserController`. This spec includes detailed endpoint documentation, security schemes, and schema definitions.

```yaml
openapi: 3.0.0
info:
  title: Identity Provider API
  version: 1.0.0
  description: API for managing user authentication and registration
servers:
  - url: /idp
paths:
  /users/register:
    post:
      tags:
        - User Management
      summary: Register a new user
      operationId: registerUser
      requestBody:
        description: User data for registration
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Users'
            examples:
              example1:
                value:
                  username: "newuser"
                  password: "password123"
      responses:
        '200':
          description: User registered successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Users'
        '400':
          description: Bad request
        '500':
          description: Internal Server Error
  /users/login:
    post:
      tags:
        - User Management
      summary: User login
      operationId: loginUser
      requestBody:
        description: User login credentials
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Users'
            examples:
              example1:
                value:
                  username: "user"
                  password: "password"
      responses:
        '200':
          description: Login successful
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AuthResponse'
        '401':
          description: Unauthorized
        '500':
          description: Internal Server Error
components:
  schemas:
    Users:
      type: object
      properties:
        username:
          type: string
        password:
          type: string
      required:
        - username
        - password
    AuthResponse:
      type: object
      properties:
        token:
          type: string
        refreshToken:
          type: string
  securitySchemes:
    bearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
security:
  - bearerAuth: []
```

### Explanation:

1. **Overview Section**: The API title, version, and base path are defined at the top of the document. The description provides a brief overview of the API's purpose.

2. **Paths**: Each endpoint from the `UserController` is documented with HTTP methods, request bodies, responses, and examples. Tags are used to group operations logically.

3. **Components**: JSON schemas for `Users` and `AuthResponse` are defined under `components.schemas`. These schemas are referenced in the request and response bodies to ensure consistency and reusability.

4. **Security**: A JWT-based security scheme is included under `components.securitySchemes`. This is applied globally to all endpoints, as specified in the `security` section at the bottom of the document.

This YAML file is ready to be imported into tools like Swagger Editor for validation, Postman for API testing, or any API Gateway that supports OpenAPI 3.0 specifications.