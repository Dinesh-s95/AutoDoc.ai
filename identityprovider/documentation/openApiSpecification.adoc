Below is the OpenAPI 3.0 specification in YAML format based on the provided Java Spring Boot application classes, focusing on the `UserController` with JWT authentication for security.

```yaml
openapi: 3.0.0
info:
  title: Identity Provider API
  version: 1.0.0
  description: API for handling user authentication and registration processes.
servers:
  - url: /idp
paths:
  /users/register:
    post:
      tags:
        - User Operations
      summary: Register a new user
      description: This endpoint is used for registering a new user in the system.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Users'
            example:
              username: "johndoe"
              password: "password123"
      responses:
        '200':
          description: User registered successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Users'
        '400':
          description: Invalid input
        '500':
          description: Server error
      security:
        - bearerAuth: []
  /users/login:
    post:
      tags:
        - User Operations
      summary: User login
      description: This endpoint is used for user login. Returns a JWT token upon successful authentication.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Users'
            example:
              username: "johndoe"
              password: "password123"
      responses:
        '200':
          description: Login successful
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AuthResponse'
        '401':
          description: Unauthorized
        '500':
          description: Server error
      security:
        - bearerAuth: []
components:
  schemas:
    Users:
      type: object
      properties:
        username:
          type: string
        password:
          type: string
      required:
        - username
        - password
    AuthResponse:
      type: object
      properties:
        token:
          type: string
          description: JWT token used for subsequent requests
  securitySchemes:
    bearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
```

### Notes:
- **Overview Section**: Includes API title, version, and base path. General usage guidance and authentication methods are described in the description fields.
- **OpenAPI Specification**: Each endpoint from the `UserController` is documented with possible request and response formats. Security is applied using JWT bearer tokens.
- **Security**: JWT authentication is configured under `components.securitySchemes`.
- **Additional Docs**: Each endpoint includes a description, example uses, and possible error codes. The schema for request and response bodies is defined under `components.schemas`.

This YAML is structured to be validated in tools like Swagger Editor and can be directly used in API gateways or imported into Postman for testing. It's designed to be human-readable with logical grouping by tags and detailed documentation for each endpoint.