= Introduction

This OpenAPI Specification document outlines the REST API for managing vehicles. The API provides endpoints for registering vehicles and verifying vehicle registration. Authentication is required for all endpoints using OAuth 2.0 with the "Bearer" token type. The base URL for this API is `https://api.example.com/v1`. To use this specification, import the YAML file into your API documentation tool or API client.

== OpenAPI 3.0 Specification

[source,yaml]
----
openapi: 3.0.0
info:
  title: Vehicle Management API
  description: REST API for managing vehicles
  version: 1.0.0
servers:
  - url: https://api.example.com/v1
paths:
  /vehicles/register:
    post:
      summary: Register a new vehicle
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Vehicle'
      responses:
        '200':
          description: Vehicle registration successful
        '400':
          description: Bad request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  /vehicles/verify:
    get:
      summary: Verify vehicle registration
      parameters:
        - name: vin
          in: query
          required: true
          schema:
            type: string
        - name: brand
          in: query
          schema:
            type: string
        - name: country
          in: query
          schema:
            type: string
      responses:
        '200':
          description: Vehicle registration verified
        '400':
          description: Bad request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
components:
  schemas:
    Vehicle:
      type: object
      properties:
        brand:
          type: string
        country:
          type: string
        device:
          type: string
        model:
          type: string
        sop:
          type: string
          format: date
        vin:
          type: string
    Error:
      type: object
      properties:
        code:
          type: integer
        message:
          type: string
security:
  - OAuth2:
      - 'read'
      - 'write'
----

== API Documentation

=== /vehicles/register (POST)

Register a new vehicle.

==== Request

[source,json]
----
{
  "brand": "Toyota",
  "country": "Japan",
  "device": "Car",
  "model": "Corolla",
  "sop": "2022-01-01",
  "vin": "123456789"
}
----

==== Response

[source,json]
----
{
  "message": "Vehicle registered successfully"
}
----

=== /vehicles/verify (GET)

Verify vehicle registration.

==== Parameters

- `vin` (required, string): Vehicle Identification Number
- `brand` (string): Brand of the vehicle
- `country` (string): Country of registration

==== Response

[source,json]
----
{
  "message": "Vehicle registration verified"
}
----

=== Authentication

All endpoints require OAuth 2.0 authentication with the "Bearer" token type. Ensure you include the access token in the request headers.

=== Error Codes

- `400`: Bad request. Check the request parameters and try again.

This completes the OpenAPI Specification for the Vehicle Management API.