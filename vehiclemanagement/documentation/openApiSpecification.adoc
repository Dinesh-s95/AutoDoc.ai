= Vehicle Management API Documentation

== Introduction

The Vehicle Management API provides services for registering and verifying vehicle registrations. It is designed for use by automotive companies to manage vehicle information efficiently.

=== Authentication Requirements

Currently, no authentication is required to access the API endpoints.

=== Base URL and Versioning

The API is accessible at `http://api.example.com/v1`. This documentation refers to version 1 of the API.

=== How to Use This Specification

This document is structured according to the OpenAPI 3.0 specification. It can be imported into tools like Swagger UI, Postman, or Insomnia for interactive exploration and testing of the API endpoints.

== OpenAPI 3.0 YAML Specification

[source,yaml]
----
openapi: 3.0.0
info:
  title: Vehicle Management API
  version: 1.0.0
  description: API for managing vehicle registrations
servers:
  - url: http://api.example.com/v1
paths:
  /vehicles/register:
    post:
      summary: Register a new vehicle
      operationId: registerVehicle
      tags:
        - Vehicle
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Vehicle'
      responses:
        '201':
          description: Vehicle registered successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Vehicle'
        '400':
          description: Invalid input
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  /vehicles/verify:
    get:
      summary: Verify vehicle registration
      operationId: verifyRegistration
      tags:
        - Vehicle
      parameters:
        - in: query
          name: vin
          schema:
            type: string
          required: true
          description: Vehicle Identification Number
        - in: query
          name: brand
          schema:
            type: string
          required: false
          description: Brand of the vehicle
        - in: query
          name: country
          schema:
            type: string
          required: false
          description: Country of registration
      responses:
        '200':
          description: Verification successful
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Vehicle'
        '404':
          description: Vehicle not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
components:
  schemas:
    Vehicle:
      type: object
      properties:
        vin:
          type: string
          description: Vehicle Identification Number
        brand:
          type: string
          description: Brand of the vehicle
        country:
          type: string
          description: Country of registration
        model:
          type: string
          description: Model of the vehicle
        device:
          type: string
          description: Device identifier
        sop:
          type: string
          format: date
          description: Start of production date
      required:
        - vin
        - brand
        - country
    Error:
      type: object
      properties:
        message:
          type: string
          description: Error message
        code:
          type: integer
          format: int32
          description: Error code
----

== API Documentation

=== Endpoint Descriptions and Usage Examples

==== Register Vehicle

Endpoint to register a new vehicle in the system.

===== Request Example

[source,json]
----
{
  "vin": "1HGBH41JXMN109186",
  "brand": "Honda",
  "country": "Japan",
  "model": "Civic",
  "device": "X7GTR",
  "sop": "2021-06-15"
}
----

===== Response Example

[source,json]
----
{
  "vin": "1HGBH41JXMN109186",
  "brand": "Honda",
  "country": "Japan",
  "model": "Civic",
  "device": "X7GTR",
  "sop": "2021-06-15"
}
----

==== Verify Registration

Endpoint to verify the registration details of a vehicle.

===== Request Example

[source,http]
----
GET /vehicles/verify?vin=1HGBH41JXMN109186&brand=Honda&country=Japan HTTP/1.1
Host: api.example.com
----

===== Response Example

[source,json]
----
{
  "vin": "1HGBH41JXMN109186",
  "brand": "Honda",
  "country": "Japan",
  "model": "Civic",
  "device": "X7GTR",
  "sop": "2021-06-15"
}
----

=== Common Error Codes and Their Meanings

- `400` - Bad Request: The request was invalid or cannot be served. Check the input.
- `404` - Not Found: The specified resource was not found.

=== Rate Limiting Information

Currently, there is no rate limiting in place for the API.